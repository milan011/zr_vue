webpackJsonp([7],{1033:function(n,e,t){var a=t(3)(t(606),t(607),!1,function(n){t(604)},null,null);n.exports=a.exports},386:function(n,e,t){"use strict";var a=t(83),i=t.n(a),r=(t(387),{bind:function(n,e){n.addEventListener("click",function(t){var a=i()({},e.value),r=i()({ele:n,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),s=r.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var l=s.getBoundingClientRect(),o=s.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":((o=document.createElement("span")).className="waves-ripple",o.style.height=o.style.width=Math.max(l.width,l.height)+"px",s.appendChild(o)),r.type){case"center":o.style.top=l.height/2-o.offsetHeight/2+"px",o.style.left=l.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(t.pageY-l.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(t.pageX-l.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=r.color,o.className="waves-ripple z-active",!1}},!1)}}),s=function(n){n.directive("waves",r)};window.Vue&&(window.waves=r,Vue.use(s)),r.install=s;e.a=r},387:function(n,e,t){var a=t(388);"string"==typeof a&&(a=[[n.i,a,""]]);var i={transform:void 0};t(40)(a,i);a.locals&&(n.exports=a.locals)},388:function(n,e,t){(n.exports=t(2)(!1)).push([n.i,".waves-ripple {\r\n    position: absolute;\r\n    border-radius: 100%;\r\n    background-color: rgba(0, 0, 0, 0.15);\r\n    background-clip: padding-box;\r\n    pointer-events: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-transform: scale(0);\r\n    -ms-transform: scale(0);\r\n    transform: scale(0);\r\n    opacity: 1;\r\n}\r\n\r\n.waves-ripple.z-active {\r\n    opacity: 0;\r\n    -webkit-transform: scale(2);\r\n    -ms-transform: scale(2);\r\n    transform: scale(2);\r\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out;\r\n}",""])},463:function(n,e,t){"use strict";e.d=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)();return Object(a.a)({url:r.a.API_URL+"/managerList",method:"get",params:{token:e,page:n.page}})},e.c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.a)();return Object(a.a)({url:r.a.API_URL+"/managerAll",method:"get",params:{token:n}})},e.a=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)();return Object(a.a)({url:r.a.API_URL+"/manager",method:"post",data:n,params:{token:e}})},e.e=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)();return Object(a.a)({url:r.a.API_URL+"/manager/"+n.id,method:"put",params:{token:e},data:n})},e.b=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)();return Object(a.a)({url:r.a.API_URL+"/manager/"+n.id,method:"delete",params:{token:e},data:n})};var a=t(118),i=t(46),r=t(117);Object(i.a)()},604:function(n,e,t){var a=t(605);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t(6)("a31ec69a",a,!0,{})},605:function(n,e,t){(n.exports=t(2)(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* .fixed-width .el-button--mini {\n  padding: 10px 3px;\n  width: 70px;\n  margin-left: 0px;\n}\n.el-table--medium td, .el-table--medium th {\n  padding: 7px 0;\n}  */\n",""])},606:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t(47),i=t.n(a),r=t(83),s=t.n(r),l=t(463),o=t(386),c=(t(119),t(120)),d=[{key:"web",display_name:"web"},{key:"api",display_name:"api"}],u=function(n,e,t){Object(c.c)(e)?t():t(new Error("请输入正确格式手机号"))},p=d.reduce(function(n,e){return n[e.key]=e.display_name,n},{});e.default={name:"managerList",directives:{waves:o.a},filters:{statusFilter:function(n){return{published:"success",draft:"info",deleted:"danger"}[n]},typeFilter:function(n){return p[n]}},data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,listQuery:{page:1,importance:void 0,name:void 0,first_letter:void 0},calendarTypeOptions:d,showReviewer:!1,temp:{id:void 0,name:"",first_letter:"",telephone:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑客户经理",create:"新增客户经理"},dialogPvVisible:!1,pvData:[],rules:{name:[{required:!0,message:"请输入客户经理姓名",trigger:"blur"}],first_letter:[{required:!0,message:"请输入一位英文字母",trigger:"blur"},{min:1,max:1,message:"请输入一位英文字母",trigger:"change"},{pattern:/[a-zA-Z]/,message:"请输入一位英文字母",trigger:"change"}],telephone:[{required:!0,message:"请输入有效手机号",trigger:"blur"},{validator:u,trigger:"change"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var n=this;this.listLoading=!0,Object(l.d)(this.listQuery).then(function(e){n.list=e.data.data,n.total=e.data.total,setTimeout(function(){n.listLoading=!1},1500)})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(n){this.listQuery.limit=n,this.getList()},handleCurrentChange:function(n){this.listQuery.page=n,this.getList()},handleModifyStatus:function(n,e){var t=this;this.$confirm("确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.temp=s()({},n),Object(l.b)(t.temp).then(function(e){if(0===e.data.status)t.$notify({title:"失败",message:"删除失败",type:"warning",duration:2e3});else{var a=t.list.indexOf(n);t.list.splice(a,1),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})}})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetTemp:function(){this.temp={id:void 0,name:"",first_letter:"",telephone:""}},handleCreate:function(){var n=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){n.$refs.dataForm.clearValidate()})},createData:function(){var n=this;this.$refs.dataForm.validate(function(e){e&&Object(l.a)(n.temp).then(function(e){var t={id:e.data.data.id,name:e.data.data.name,telephone:e.data.data.telephone,created_at:new Date};n.list.unshift(t),n.dialogFormVisible=!1,n.$notify({title:"成功",message:e.data.message,type:"success",duration:2e3})})})},handleUpdate:function(n){var e=this;this.temp=s()({},n),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},updateData:function(){var n=this;this.$refs.dataForm.validate(function(e){if(e){var t=s()({},n.temp);Object(l.e)(t).then(function(e){if(console.log(e.data),e.data.status){var t=!0,a=!1,r=void 0;try{for(var s,l=i()(n.list);!(t=(s=l.next()).done);t=!0){var o=s.value;if(o.id===n.temp.id){var c=n.list.indexOf(o);n.list.splice(c,1,n.temp);break}}}catch(n){a=!0,r=n}finally{try{!t&&l.return&&l.return()}finally{if(a)throw r}}n.dialogFormVisible=!1,n.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}else n.$notify.error({title:"失败",message:e.data.message,duration:2e3})})}})},handleDelete:function(n){this.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3});var e=this.list.indexOf(n);this.list.splice(e,1)}}}},607:function(n,e){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:n.handleCreate}},[n._v("\n      "+n._s(n.$t("table.add"))+"\n    ")])],1),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],key:n.tableKey,staticStyle:{width:"100%"},attrs:{data:n.list,border:"",fit:"","highlight-current-row":""}},[t("el-table-column",{attrs:{label:n.$t("table.id"),align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.id))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("manager.name"),align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.name))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("manager.telephone"),align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.telephone))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("table.date"),width:"150px",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(n._f("parseTime")(e.row.created_at,"{y}-{m}-{d}")))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("table.actions"),align:"center","class-name":"small-padding fixed-width"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){n.handleUpdate(e.row)}}},[n._v(n._s(n.$t("table.edit")))]),n._v(" "),"deleted"!=e.row.status?t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){n.handleModifyStatus(e.row,"deleted")}}},[n._v(n._s(n.$t("table.delete"))+"\n        ")]):n._e()]}}])})],1),n._v(" "),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.total>0,expression:"total>0"}],attrs:{"current-page":n.listQuery.page,total:n.total,background:"",layout:"total, prev, pager, next"},on:{"current-change":n.handleCurrentChange}})],1),n._v(" "),t("el-dialog",{attrs:{title:n.textMap[n.dialogStatus],visible:n.dialogFormVisible},on:{"update:visible":function(e){n.dialogFormVisible=e}}},[t("el-form",{ref:"dataForm",staticStyle:{width:"400px"},attrs:{rules:n.rules,model:n.temp,"label-position":"left","label-width":"100px"}},[t("el-form-item",{attrs:{label:n.$t("manager.name"),prop:"name"}},[t("el-input",{model:{value:n.temp.name,callback:function(e){n.$set(n.temp,"name",e)},expression:"temp.name"}})],1),n._v(" "),t("el-form-item",{attrs:{label:n.$t("manager.telephone"),prop:"telephone"}},[t("el-input",{model:{value:n.temp.telephone,callback:function(e){n.$set(n.temp,"telephone",e)},expression:"temp.telephone"}})],1),n._v(" "),t("el-form-item",{attrs:{label:n.$t("manager.first_letter"),prop:"first_letter"}},[t("el-input",{model:{value:n.temp.first_letter,callback:function(e){n.$set(n.temp,"first_letter",e)},expression:"temp.first_letter"}})],1)],1),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.dialogFormVisible=!1}}},[n._v(n._s(n.$t("table.cancel")))]),n._v(" "),"create"==n.dialogStatus?t("el-button",{attrs:{type:"primary"},on:{click:n.createData}},[n._v(n._s(n.$t("table.confirm")))]):t("el-button",{attrs:{type:"primary"},on:{click:n.updateData}},[n._v(n._s(n.$t("table.confirm")))])],1)],1)],1)},staticRenderFns:[]}}});