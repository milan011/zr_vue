webpackJsonp([4],{"0Z3S":function(n,e,t){var i=t("VU/8")(t("Xq9S"),t("EZ8K"),!1,function(n){t("90p5")},null,null);n.exports=i.exports},"90p5":function(n,e,t){var i=t("QDkV");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("po5z")("ce7eb9b4",i,!0,{})},Aj3u:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,".waves-ripple {\r\n    position: absolute;\r\n    border-radius: 100%;\r\n    background-color: rgba(0, 0, 0, 0.15);\r\n    background-clip: padding-box;\r\n    pointer-events: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-transform: scale(0);\r\n    -ms-transform: scale(0);\r\n    transform: scale(0);\r\n    opacity: 1;\r\n}\r\n\r\n.waves-ripple.z-active {\r\n    opacity: 0;\r\n    -webkit-transform: scale(2);\r\n    -ms-transform: scale(2);\r\n    transform: scale(2);\r\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out;\r\n}",""])},BNW2:function(n,e,t){var i=t("VVRi");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("po5z")("2f8bbbc6",i,!0,{})},"EE+w":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("//Fk"),a=t.n(i),s=t("NS+A");e.default={data:function(){return{permissionTemp:{id:null,permissions:[]},rolePermission:"权限编辑",permissionDialogFormVisible:!1,checkList:["user_list","role_list"],permissions:[]}},created:function(){a.a.all([this.getPermissionList()])},methods:{getPermissionList:function(){var n=this;Object(s.d)().then(function(e){n.permissions=e.data.data})},handlePermission:function(n){var e=this;Object(s.e)(n).then(function(t){e.checkList=t.data,e.permissionTemp.id=n.id,e.permissionDialogFormVisible=!0})},givePermissions:function(){var n=this;this.permissionTemp.permissions=this.checkList,Object(s.f)(this.permissionTemp).then(function(e){n.permissionDialogFormVisible=!1,n.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})}}}},EZ8K:function(n,e){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:n.handleCreate}},[n._v("\n      "+n._s(n.$t("table.add"))+"\n    ")])],1),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],key:n.tableKey,staticStyle:{width:"100%"},attrs:{data:n.list,border:"",fit:"","highlight-current-row":""}},[t("el-table-column",{attrs:{label:n.$t("table.id"),align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.id))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("role.name"),align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.name))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("role.guard_name"),align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.guard_name))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("role.description"),align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.description))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("table.actions"),align:"center","show-overflow-tooltip":"","class-name":"small-padding fixed-width"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){n.handleUpdate(e.row)}}},[n._v(n._s(n.$t("table.edit")))]),n._v(" "),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){n.handleSetPermission(e.row)}}},[n._v(n._s(n.$t("table.editPermissions")))]),n._v(" "),"deleted"!=e.row.status?t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){n.handleModifyStatus(e.row,"deleted")}}},[n._v(n._s(n.$t("table.delete"))+"\n        ")]):n._e()]}}])})],1),n._v(" "),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.total>0,expression:"total>0"}],attrs:{"current-page":n.listQuery.page,total:n.total,background:"",layout:"total, prev, pager, next"},on:{"current-change":n.handleCurrentChange}})],1),n._v(" "),t("el-dialog",{attrs:{title:n.textMap[n.dialogStatus],visible:n.dialogFormVisible},on:{"update:visible":function(e){n.dialogFormVisible=e}}},[t("el-form",{ref:"dataForm",staticStyle:{width:"400px"},attrs:{rules:n.rules,model:n.temp,"label-position":"left","label-width":"100px"}},[t("el-form-item",{attrs:{label:n.$t("role.name"),prop:"name"}},[t("el-input",{model:{value:n.temp.name,callback:function(e){n.$set(n.temp,"name",e)},expression:"temp.name"}})],1),n._v(" "),t("el-form-item",{attrs:{label:n.$t("role.description"),prop:"description"}},[t("el-input",{model:{value:n.temp.description,callback:function(e){n.$set(n.temp,"description",e)},expression:"temp.description"}})],1),n._v(" "),t("el-form-item",{attrs:{label:n.$t("role.guard_name"),prop:"guard_name"}},[t("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择标识"},model:{value:n.temp.guard_name,callback:function(e){n.$set(n.temp,"guard_name",e)},expression:"temp.guard_name"}},n._l(n.calendarTypeOptions,function(n){return t("el-option",{key:n.key,attrs:{label:n.display_name,value:n.key}})}))],1)],1),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.dialogFormVisible=!1}}},[n._v(n._s(n.$t("table.cancel")))]),n._v(" "),"create"==n.dialogStatus?t("el-button",{attrs:{type:"primary"},on:{click:n.createData}},[n._v(n._s(n.$t("table.confirm")))]):t("el-button",{attrs:{type:"primary"},on:{click:n.updateData}},[n._v(n._s(n.$t("table.confirm")))])],1)],1),n._v(" "),t("switch-roles",{ref:"roleChild"})],1)},staticRenderFns:[]}},I400:function(n,e){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("el-dialog",{attrs:{title:n.rolePermission,visible:n.permissionDialogFormVisible},on:{"update:visible":function(e){n.permissionDialogFormVisible=e}}},[t("el-form",{ref:"permissionDForm",attrs:{model:n.permissionTemp,"label-position":"left","label-width":"100px"}},n._l(n.permissions,function(e,i){return t("el-checkbox-group",{key:i,model:{value:n.checkList,callback:function(e){n.checkList=e},expression:"checkList"}},[t("div",{staticStyle:{"margin-bottom":"12px"}},[t("span",{staticStyle:{"font-size":"16px","margin-right":"5px"}},[n._v(n._s(i)+":")]),n._v(" "),n._l(e,function(e){return t("el-checkbox",{key:e.id,attrs:{border:"",size:"medium",label:e.name}},[n._v("\r\n              "+n._s(e.description)+"\r\n            ")])})],2)])})),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.permissionDialogFormVisible=!1}}},[n._v(n._s(n.$t("table.cancel")))]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.givePermissions}},[n._v(n._s(n.$t("table.confirm")))])],1)],1)],1)},staticRenderFns:[]}},"NS+A":function(n,e,t){"use strict";e.c=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.a)();return Object(i.a)({url:s.a.API_URL+"/roleList",method:"get",params:{query:n,token:e,page:n.page}})},e.a=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.a)();return Object(i.a)({url:s.a.API_URL+"/role",method:"post",data:n,params:{token:e}})},e.g=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.a)();return Object(i.a)({url:s.a.API_URL+"/role/"+n.id,method:"put",params:{token:e},data:n})},e.b=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.a)();return Object(i.a)({url:s.a.API_URL+"/role/"+n.id,method:"delete",params:{token:e},data:n})},e.e=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.a)();return Object(i.a)({url:s.a.API_URL+"/role/"+n.id+"/permissions",method:"get",params:{token:e},data:n})},e.f=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.a)();return Object(i.a)({url:s.a.API_URL+"/giveRole/"+n.id+"/permissions",method:"post",params:{token:e},data:n})},e.d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(a.a)();return Object(i.a)({url:s.a.API_URL+"/permissionAll",method:"get",params:{token:n}})};var i=t("CgzK"),a=t("JSPZ"),s=t("oPgi");Object(a.a)()},QDkV:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* .fixed-width .el-button--mini {\n  padding: 10px 3px;\n  width: 70px;\n  margin-left: 0px;\n} */\n",""])},VVRi:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"",""])},VtiX:function(n,e,t){var i=t("VU/8")(t("EE+w"),t("I400"),!1,function(n){t("BNW2")},"data-v-33b284fa",null);n.exports=i.exports},Xq9S:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("BO1k"),a=t.n(i),s=t("woOf"),o=t.n(s),r=t("//Fk"),l=t.n(r),c=t("NS+A"),u=t("g3WJ"),d=(t("nx/F"),t("VtiX")),p=t.n(d),m=[{key:"web",display_name:"web"},{key:"api",display_name:"api"}],f=m.reduce(function(n,e){return n[e.key]=e.display_name,n},{});e.default={name:"roleList",components:{SwitchRoles:p.a},directives:{waves:u.a},filters:{statusFilter:function(n){return{published:"success",draft:"info",deleted:"danger"}[n]},typeFilter:function(n){return f[n]}},data:function(){return{tableKey:0,list:null,permissionList:null,total:null,listLoading:!0,listQuery:{page:1,importance:void 0,name:void 0,guard_name:void 0},calendarTypeOptions:m,showReviewer:!1,temp:{id:void 0,name:"",guard_name:"",description:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑角色",create:"新增角色"},pvData:[],rules:{guard_name:[{required:!0,message:"请选择标识",trigger:"change"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},downloadLoading:!1}},created:function(){l.a.all([this.getList()])},methods:{getList:function(){var n=this;this.listLoading=!0,Object(c.c)(this.listQuery).then(function(e){n.list=e.data.data,n.total=e.data.total,setTimeout(function(){n.listLoading=!1},1500)})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(n){this.listQuery.limit=n,this.getList()},handleCurrentChange:function(n){this.listQuery.page=n,this.getList()},handleModifyStatus:function(n,e){var t=this;this.$confirm("确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.temp=o()({},n),Object(c.b)(t.temp).then(function(e){if(0===e.data.status)t.$notify({title:"失败",message:"删除失败",type:"warning",duration:2e3});else{var i=t.list.indexOf(n);t.list.splice(i,1),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})}})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetTemp:function(){this.temp={id:void 0,name:"",guard_name:"",description:""}},handleCreate:function(){var n=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){n.$refs.dataForm.clearValidate()})},createData:function(){var n=this;this.$refs.dataForm.validate(function(e){e&&Object(c.a)(n.temp).then(function(e){n.temp.id=e.data.id,n.list.unshift(n.temp),n.dialogFormVisible=!1,n.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})})},handleUpdate:function(n){var e=this;this.temp=o()({},n),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},updateData:function(){var n=this;this.$refs.dataForm.validate(function(e){if(e){var t=o()({},n.temp);Object(c.g)(t).then(function(){var e=!0,t=!1,i=void 0;try{for(var s,o=a()(n.list);!(e=(s=o.next()).done);e=!0){var r=s.value;if(r.id===n.temp.id){var l=n.list.indexOf(r);n.list.splice(l,1,n.temp);break}}}catch(n){t=!0,i=n}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}n.dialogFormVisible=!1,n.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})}})},handleDelete:function(n){this.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3});var e=this.list.indexOf(n);this.list.splice(e,1)},handleSetPermission:function(n){this.$refs.roleChild.handlePermission(n)},giveRolePermissions:function(){this.$refs.roleChild.givePermissions()}}}},g3WJ:function(n,e,t){"use strict";var i=t("woOf"),a=t.n(i),s=(t("lBjm"),{bind:function(n,e){n.addEventListener("click",function(t){var i=a()({},e.value),s=a()({ele:n,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),o=s.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var r=o.getBoundingClientRect(),l=o.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",o.appendChild(l)),s.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(t.pageY-r.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(t.pageX-r.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=s.color,l.className="waves-ripple z-active",!1}},!1)}}),o=function(n){n.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;e.a=s},lBjm:function(n,e,t){var i=t("Aj3u");"string"==typeof i&&(i=[[n.i,i,""]]);var a={transform:void 0};t("MTIv")(i,a);i.locals&&(n.exports=i.locals)}});